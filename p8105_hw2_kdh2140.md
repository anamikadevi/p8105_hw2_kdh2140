Data Science Homework 2
================
Kristina Howell

The following libraries will be used throughout the homework.

``` r
library(readxl)
library(tidyverse)
```

## Problem 1

Read and clean the Mr. Trash Wheel sheet according to homework
specifications.

``` r
trash_wheel = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                         sheet = "Mr. Trash Wheel", range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(sports_balls = round(sports_balls), 
         sports_balls = as.integer(sports_balls))

#Another range argument: range = cell_cols("A:N")
```

Read and clean the precipitation data for 2018 and 2017 according to
homework.

``` r
prec_18 = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                         sheet = "2018 Precipitation", range = "A2:B15") %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  rename(prec = total) %>% 
  mutate(year = 2018) %>% 
  relocate(year)
  
  #alternate argument, skip = 1, to skip the first row of table
  
prec_17 = read_excel("./data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
                         sheet = "2017 Precipitation", range = "A2:B15") %>% 
  janitor::clean_names() %>% 
  drop_na(month) %>% 
  rename(prec = total) %>% 
  mutate(year = 2017) %>% 
  relocate(year)
```

Merge the two datasets

``` r
precip_df = bind_rows(prec_18, prec_17)
```

The Mr. Trash Wheel dataset consists of 344 rows and 14 columns. It
includes the variables: dumpster, month, year, date, weight\_tons,
volume\_cubic\_yards, plastic\_bottles, polystyrene, cigarette\_butts,
glass\_bottles, grocery\_bags, chip\_bags, sports\_balls,
homes\_powered. The median number of sports balls in a dumpster in 2017
is 8 .

## Problem 2

Read and clean the NYC transit data according to homework
specifications.

``` r
nyc_transit = read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line, station_name, station_latitude, station_longitude, route1:route11, 
         entry, entrance_type, vending, ada) %>% 
  mutate(ada = as.logical(ada))
```

The nyc\_transit dataset offers general but comprehensive information
about the transit stations located in NYC. It contains the variables:
line, station\_name, station\_latitude, station\_longitude, route1,
route2, route3, route4, route5, route6, route7, route8, route9, route10,
route11, entry, entrance\_type, vending, ada. Overall, the dataset has
1868 rows and 19 columns.

The data cleaning steps have included cleaning the names, using the
clean\_names() function, selecting the variables to keep in the data
set, using the select() function, and converting the ada character
variable to a logical variable using the mutate() function.

The data is mostly tidy, but the columns regarding route number could be
improved.

#### Problem 2 Questions

###### How many distinct stations are there?

There are 465 distinct stations within the data set.

###### How many stations are ADA compliant?

To determine which distinct stations are ADA compliant, run the
following code chunk.

``` r
ada = filter(nyc_transit, ada == "TRUE") %>% 
   distinct(line, station_name)
```

Results will output in a tibble that lists line and station name, with a
total of 84 stations that are ADA compliant.

###### What proportion of station entrances / exits without vending allow entrance?

To determine which distinct stations do not have vending but do allow
entry, apply the following code chunk.

``` r
vend_entry = filter(nyc_transit, vending == "NO", entry == "YES") %>% 
   distinct(line, station_name)
```

Results will output in a tibble that lists line and station name, with a
total of 43 stations that allow entry without vending.

##### Reformat data so that route number and route name are distinct variables.

``` r
nyc_transit = mutate(nyc_transit, route8 = as.character(route8),
       route9 = as.character(route9),
       route10 = as.character(route10),
       route11 = as.character(route11)) %>% 
pivot_longer(
    route1:route11,
    values_to = "route") %>% 
  select(-name) %>% 
  drop_na(route)
```

###### How many distinct stations serve the A train?

###### Of the stations that serve the A train, how many are ADA compliant?

## Problem 3

##### Import the data sets

``` r
pols_month = read_csv("./Data/fivethirtyeight_datasets/pols-month.csv") %>% 
  separate(mon, c("year", "month", "day")) %>% 
  select(-day) %>% 
  mutate(month = as.integer(month))
  
unemploy = read_csv("./Data/fivethirtyeight_datasets/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "unemployment"
  )
  
snp = read_csv("./Data/fivethirtyeight_datasets/snp.csv") %>% 
    separate(date, c("month", "day", "year")) %>% 
    select(-day) %>% 
    relocate(year, month) %>% 
    mutate(month = as.integer(month))
```

###### Convert integer month to word month

``` r
month_df = 
  tibble( 
    month = 1:12,
    month_name = month.name)

pols_month = left_join(pols_month, month_df, by = "month") %>% 
  select(-month) %>% 
  rename(month = month_name) %>% 
  relocate(year, month)

snp = left_join(snp, month_df, by = "month") %>% 
  select(-month) %>% 
  rename(month = month_name) %>% 
  relocate(year, month)
```

Merge datasets

``` r
complete = left_join(pols_month, snp, by = "year")

left_join(pols_month, unemploy, by = "month")
```

    ## # A tibble: 822 x 12
    ##    year.x month prez_gop gov_gop sen_gop rep_gop prez_dem gov_dem sen_dem
    ##    <chr>  <chr>    <dbl>   <dbl>   <dbl>   <dbl>    <dbl>   <dbl>   <dbl>
    ##  1 1947   Janu…        0      23      51     253        1      23      45
    ##  2 1947   Febr…        0      23      51     253        1      23      45
    ##  3 1947   March        0      23      51     253        1      23      45
    ##  4 1947   April        0      23      51     253        1      23      45
    ##  5 1947   May          0      23      51     253        1      23      45
    ##  6 1947   June         0      23      51     253        1      23      45
    ##  7 1947   July         0      23      51     253        1      23      45
    ##  8 1947   Augu…        0      23      51     253        1      23      45
    ##  9 1947   Sept…        0      23      51     253        1      23      45
    ## 10 1947   Octo…        0      23      51     253        1      23      45
    ## # … with 812 more rows, and 3 more variables: rep_dem <dbl>, year.y <dbl>,
    ## #   unemployment <dbl>

##### Write paragraph
